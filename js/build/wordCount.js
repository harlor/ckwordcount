!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CKEditor5=e():(t.CKEditor5=t.CKEditor5||{},t.CKEditor5.wordCount=e())}(self,(()=>(()=>{var t={"ckeditor5/src/core.js":(t,e,r)=>{t.exports=r("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(t,e,r)=>{t.exports=r("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/utils.js":(t,e,r)=>{t.exports=r("dll-reference CKEditor5.dll")("./src/utils.js")},"dll-reference CKEditor5.dll":t=>{"use strict";t.exports=CKEditor5.dll}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o={};return(()=>{"use strict";r.d(o,{default:()=>Z});var t=r("ckeditor5/src/core.js"),e=r("ckeditor5/src/ui.js"),n=r("ckeditor5/src/utils.js");const i=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const s="object"==typeof global&&global&&global.Object===Object&&global;var c="object"==typeof self&&self&&self.Object===Object&&self;const u=s||c||Function("return this")();const a=function(){return u.Date.now()};var d=/\s/;const l=function(t){for(var e=t.length;e--&&d.test(t.charAt(e)););return e};var f=/^\s+/;const h=function(t){return t?t.slice(0,l(t)+1).replace(f,""):t};const p=u.Symbol;var g=Object.prototype,v=g.hasOwnProperty,b=g.toString,w=p?p.toStringTag:void 0;const y=function(t){var e=v.call(t,w),r=t[w];try{t[w]=void 0;var o=!0}catch(t){}var n=b.call(t);return o&&(e?t[w]=r:delete t[w]),n};var j=Object.prototype.toString;const _=function(t){return j.call(t)};var m=p?p.toStringTag:void 0;const x=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":m&&m in Object(t)?y(t):_(t)};const C=function(t){return null!=t&&"object"==typeof t};const O=function(t){return"symbol"==typeof t||C(t)&&"[object Symbol]"==x(t)};var E=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,S=/^0o[0-7]+$/i,k=parseInt;const V=function(t){if("number"==typeof t)return t;if(O(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=h(t);var r=T.test(t);return r||S.test(t)?k(t.slice(2),r?2:8):E.test(t)?NaN:+t};var W=Math.max,K=Math.min;const P=function(t,e,r){var o,n,s,c,u,d,l=0,f=!1,h=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var r=o,i=n;return o=n=void 0,l=e,c=t.apply(i,r)}function v(t){return l=t,u=setTimeout(w,e),f?g(t):c}function b(t){var r=t-d;return void 0===d||r>=e||r<0||h&&t-l>=s}function w(){var t=a();if(b(t))return y(t);u=setTimeout(w,function(t){var r=e-(t-d);return h?K(r,s-(t-l)):r}(t))}function y(t){return u=void 0,p&&o?g(t):(o=n=void 0,c)}function j(){var t=a(),r=b(t);if(o=arguments,n=this,d=t,r){if(void 0===u)return v(d);if(h)return clearTimeout(u),u=setTimeout(w,e),g(d)}return void 0===u&&(u=setTimeout(w,e)),c}return e=V(e)||0,i(r)&&(f=!!r.leading,s=(h="maxWait"in r)?W(V(r.maxWait)||0,e):s,p="trailing"in r?!!r.trailing:p),j.cancel=function(){void 0!==u&&clearTimeout(u),l=0,o=d=n=u=void 0},j.flush=function(){return void 0===u?c:y(a())},j};const L=function(t,e,r){var o=!0,n=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(r)&&(o="leading"in r?!!r.leading:o,n="trailing"in r?!!r.trailing:n),P(t,e,{leading:o,maxWait:e,trailing:n})};const N=function(t,e){return function(r){return t(e(r))}}(Object.getPrototypeOf,Object);var R=Function.prototype,$=Object.prototype,M=R.toString,U=$.hasOwnProperty,A=M.call(Object);const F=function(t){if(!C(t)||"[object Object]"!=x(t))return!1;var e=N(t);if(null===e)return!0;var r=U.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&M.call(r)==A};const z=function(t){return C(t)&&1===t.nodeType&&!F(t)};function D(t){if(t.is("$text")||t.is("$textProxy"))return t.data;let e="",r=null;for(const o of t.getChildren()){const t=D(o);r&&r.is("element")&&(e+="\n"),e+=t,r=o}return e}class I extends t.Plugin{constructor(t){super(t),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters()}},words:{get(){return this.words=this._getWords()}}}),this.set("_wordsLabel"),this.set("_charactersLabel"),this._config=t.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=n.env.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9À-ž]+\S?)+/gu}static get pluginName(){return"WordCount"}init(){this.editor.model.document.on("change:data",L(this._refreshStats.bind(this),250)),"function"==typeof this._config.onUpdate&&this.on("update",((t,e)=>{this._config.onUpdate(e)})),z(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const t=this.editor,r=t.t,o=t.config.get("wordCount.displayWords"),n=t.config.get("wordCount.displayCharacters"),i=e.Template.bind(this,this),s=[];return this._outputView||(this._outputView=new e.View,(o||void 0===o)&&(this.bind("_wordsLabel").to(this,"words",(t=>r("Words: %0",t))),s.push({tag:"div",children:[{text:[i.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(n||void 0===n)&&(this.bind("_charactersLabel").to(this,"characters",(t=>r("Characters: %0",t))),s.push({tag:"div",children:[{text:[i.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:s}),this._outputView.render()),this._outputView.element}_getCharacters(){return D(this.editor.model.document.getRoot()).replace(/\n/g,"").length}_getWords(){return(D(this.editor.model.document.getRoot()).match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const t=this.words=this._getWords(),e=this.characters=this._getCharacters();this.fire("update",{words:t,characters:e})}}const Z={WordCount:I}})(),o=o.default})()));